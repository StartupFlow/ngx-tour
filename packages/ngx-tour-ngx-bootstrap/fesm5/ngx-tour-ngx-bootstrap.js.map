{"version":3,"file":"ngx-tour-ngx-bootstrap.js","sources":["ng://ngx-tour-ngx-bootstrap/lib/ngx-bootstrap-tour.service.ts","ng://ngx-tour-ngx-bootstrap/lib/tour-step-template.service.ts","ng://ngx-tour-ngx-bootstrap/lib/tour-anchor.directive.ts","ng://ngx-tour-ngx-bootstrap/lib/tour-step-template.component.ts","ng://ngx-tour-ngx-bootstrap/lib/ngx-bootstrap.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { TourService } from 'ngx-tour-core';\n\nimport { INgxbStepOption } from './step-option.interface';\n\n@Injectable()\nexport class NgxbTourService extends TourService<INgxbStepOption> {}\n","import { Injectable, TemplateRef } from '@angular/core';\n\n@Injectable()\nexport class TourStepTemplateService {\n  public template: TemplateRef<{content: string}>;\n}\n","import { Directive, ElementRef, Host, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\nimport { PopoverDirective } from 'ngx-bootstrap';\nimport { TourAnchorDirective } from 'ngx-tour-core';\nimport { INgxbStepOption as IStepOption } from './step-option.interface';\nimport withinviewport from 'withinviewport';\n\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\n@Directive({ selector: '[tourAnchor]' })\nexport class TourAnchorNgxBootstrapPopoverDirective extends PopoverDirective { }\n\n@Directive({\n  selector: '[tourAnchor]'\n})\nexport class TourAnchorNgxBootstrapDirective\n  implements OnInit, OnDestroy, TourAnchorDirective {\n  @Input() public tourAnchor: string;\n\n  @HostBinding('class.touranchor--is-active')\n  public isActive: boolean;\n\n  constructor(\n    private tourService: NgxbTourService,\n    private tourStepTemplate: TourStepTemplateService,\n    private element: ElementRef,\n    @Host() private popoverDirective: TourAnchorNgxBootstrapPopoverDirective\n  ) {\n    this.popoverDirective.triggers = '';\n  }\n\n  public ngOnInit(): void {\n    this.tourService.register(this.tourAnchor, this);\n  }\n\n  public ngOnDestroy(): void {\n    this.tourService.unregister(this.tourAnchor);\n  }\n\n  public showTourStep(step: IStepOption): void {\n    this.isActive = true;\n    this.popoverDirective.popover = this.tourStepTemplate.template;\n    this.popoverDirective.popoverContext = { step };\n    this.popoverDirective.popoverTitle = step.title;\n    this.popoverDirective.container = 'body';\n    this.popoverDirective.containerClass = 'ngx-bootstrap';\n    if (step.containerClass) {\n      this.popoverDirective.containerClass += ` ${step.containerClass}`;\n    }\n    this.popoverDirective.placement = step.placement || 'top';\n    step.prevBtnTitle = step.prevBtnTitle || 'Prev';\n    step.nextBtnTitle = step.nextBtnTitle || 'Next';\n    step.endBtnTitle = step.endBtnTitle || 'End';\n    this.popoverDirective.show();\n    if (!step.preventScrolling) {\n      if (!withinviewport(this.element.nativeElement, { sides: 'bottom' })) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(false);\n      } else if (\n        !withinviewport(this.element.nativeElement, { sides: 'left top right' })\n      ) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(true);\n      }\n    }\n  }\n\n  public hideTourStep(): void {\n    this.isActive = false;\n    this.popoverDirective.hide();\n  }\n}\n","import { AfterContentInit, Component, ContentChild, Input, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { IStepOption, TourHotkeyListenerComponent } from 'ngx-tour-core';\n\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'tour-step-template',\n  template: `\n    <ng-template #tourStep let-step=\"step\">\n      <p class=\"tour-step-content\">{{step?.content}}</p>\n      <div class=\"tour-step-navigation\">\n        <button *ngIf=\"tourService.hasPrev(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.prev()\">Â« {{step?.prevBtnTitle}}</button>\n        <button *ngIf=\"tourService.hasNext(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.next()\">{{step?.nextBtnTitle}} Â»</button>\n        <button class=\"btn btn-sm btn-default\" (click)=\"tourService.end()\">{{step?.endBtnTitle}}</button>\n      </div>\n    </ng-template>\n  `,\n})\nexport class TourStepTemplateComponent extends TourHotkeyListenerComponent implements AfterContentInit {\n  @ViewChild('tourStep', { read: TemplateRef, static: true }) public defaultTourStepTemplate: TemplateRef<any>;\n\n  @Input()\n  @ContentChild(TemplateRef, { static: true })\n  public stepTemplate: TemplateRef<{ step: IStepOption }>;\n\n  constructor(private tourStepTemplateService: TourStepTemplateService, public tourService: NgxbTourService) {\n    super(tourService);\n  }\n\n  public ngAfterContentInit(): void {\n    this.tourStepTemplateService.template = this.stepTemplate || this.defaultTourStepTemplate;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { TourModule } from 'ngx-tour-core';\n\nimport { TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective } from './tour-anchor.directive';\nimport { TourStepTemplateComponent } from './tour-step-template.component';\nimport { TourStepTemplateService } from './tour-step-template.service';\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\n\nexport { TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent, NgxbTourService };\n\n@NgModule({\n  declarations: [TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent],\n  exports: [TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent],\n  imports: [CommonModule, PopoverModule.forRoot()],\n})\nexport class TourNgxBootstrapModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: TourNgxBootstrapModule,\n      providers: [\n        TourStepTemplateService,\n        ...TourModule.forRoot().providers,\n        NgxbTourService,\n      ],\n    };\n  }\n}\n"],"names":["tslib_1.__extends"],"mappings":"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"}